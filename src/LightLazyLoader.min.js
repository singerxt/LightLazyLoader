function LightLazyImages(){this.lazyElems=document.querySelectorAll("span.lazy-image"),this.bindEvents()}LightLazyImages.prototype.checkElements=function(){for(var e=0,t=this.lazyElems.length;t>e;e++)this.isInView(this.lazyElems[e])&&this.createImage(this.lazyElems[e])},LightLazyImages.prototype.createImage=function(e){var t=document.createElement("img"),n=e.className.replace("lazy-image"," lazy-image-processed ");e.className+=" lazy-image-processing",t.className+=n,t.setAttribute("src",e.dataset.src),t.onload=function(){try{e.parentNode.replaceChild(t,e),t.className=t.className.replace("lazy-image-processing","")}catch(n){}}},LightLazyImages.prototype.bindEvents=function(){var e=this,t={attributes:!0,childList:!0,characterData:!0,subtree:!0},n=new MutationObserver(function(){e.lazyElems=document.querySelectorAll("span.lazy-image:not(.lazy-image-processing)")}),i=document.querySelectorAll("*");window.onscroll=this.checkElements.bind(this),window.onresize=this.checkElements.bind(this),window.onload=this.checkElements.bind(this);for(var s=0,a=i.length;a>s;s++)i[s].addEventListener("transitionend",this.checkElements.bind(this)),i[s].addEventListener("transitionstart",this.checkElements.bind(this)),i[s].addEventListener("animationstart",this.checkElements.bind(this)),i[s].addEventListener("animationend",this.checkElements.bind(this)),i[s].addEventListener("scroll",this.checkElements.bind(this));n.observe(document.body,t)},LightLazyImages.prototype.isInView=function(e){if(void 0===e)return!1;var t=e.getBoundingClientRect(),n=(t.top>=0&&t.left>=0&&t.top)<=(window.innerHeight||document.documentElement.clientHeight),i=t.left<=(window.innerWidth||document.documentElement.clientWidth);return n&&i},new LightLazyImages;
